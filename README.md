<h1 align="middle">프리코스 4주차 - 다리 건너기 🌉</h1>
<p align="middle">Console을 통해 작동하는 다리 건너기 게임</p>
<br>

# 📱 실행 순서

## 1. 다리 생성하기

게임을 시작하면 게임 시작 안내 문구가 출력되고, 이후 다음과 같은 문구가 출력됩니다.

```
다리의 길이를 입력해주세요.
```

다리의 길이는 3~20 사이의 숫자만 입력이 가능합니다.

입력이 완료되면 해당 길이만큼의 다리가 생성이 됩니다.

## 2. 다리 건너기

### 2-1. 이동할 칸 입력 받기

정상적으로 다리가 생성되면, 이동할 칸을 입력해야 합니다.

```
이동할 칸을 선택해주세요. (위: U, 아래: D)
```

이동할 칸은 위(U), 아래(D)만 입력해야 합니다.

### 2-2. 칸 이동 성공

이동할 칸을 입력 받으면 해당 칸으로 이동합니다.

```
이동할 칸을 선택해주세요. (위: U, 아래: D)
U
[ O ]
[   ]
```

건널 수 있는 칸이라면, 해당 칸에 O 표시가 되며 이동한 경로를 보여줍니다.

이후, 다음 이동할 칸을 입력 받습니다.

### 2-3. 칸 이동 실패

이동할 칸을 입력 받으면 해당 칸으로 이동합니다.

```
이동할 칸을 선택해주세요. (위: U, 아래: D)
D
[   ]
[ X ]
```

그러나 해당 칸이 건널수 없는 칸이면, 해당 칸에 X 표시가 되며 이동한 경로를 보여줍니다.

이후, 다리 건너기는 종료됩니다.

## 3. 재시도 혹은 종료

건널 수 없는 칸으로 이동했다면 다리 건너기가 종료되며 재시도를 할지, 게임을 종료할지 물어봅니다.

```
게임을 다시 시도할지 여부를 입력해주세요. (재시도: R, 종료: Q)
```

입력은 재시도 명령어(R)와 종료 명령어(Q)만 입력할 수 있습니다.

재시도 명령어를 입력한다면, 다리 건너기를 처음부터 다시 시작합니다. 이 때, 다리는 새로 생성하지 않고 기존의 다리를 건넙니다.

```
게임을 다시 시도할지 여부를 입력해주세요. (재시도: R, 종료: Q)
R
이동할 칸을 선택해주세요. (위: U, 아래: D)
```

종료 명령어를 입력한다면, 최종 게임 결과를 출력하고 게임을 종료합니다.

```
게임을 다시 시도할지 여부를 입력해주세요. (재시도: R, 종료: Q)
Q
최종 게임 결과
```

## 4. 최종 게임 결과 출력

다리를 건너는데 성공했거나, 중간에 종료 명령어를 통해 종료했다면 최종 게임 결과를 출력합니다.

다리를 건너는데 성공했다면 다음과 같이 출력됩니다.

```
최종 게임 결과
[ O |   |   ]
[   | O | O ]

게임 성공 여부: 성공
총 시도한 횟수: 2
```

다리를 건너는데 실패했다면 다음과 같이 출력됩니다.

```
최종 게임 결과
[ O | X ]
[   |   ]

게임 성공 여부: 실패
총 시도한 횟수: 1
```

최종 게임 결과로는 플레이어가 이동한 다리 경로, 게임 성공 여부, 시도한 횟수가 출력 됩니다.

<br>

# 💻 실행 결과 예시

```
다리 건너기 게임을 시작합니다.

다리의 길이를 입력해주세요.
3

이동할 칸을 선택해주세요. (위: U, 아래: D)
U
[ O ]
[   ]

이동할 칸을 선택해주세요. (위: U, 아래: D)
U
[ O | X ]
[   |   ]

게임을 다시 시도할지 여부를 입력해주세요. (재시도: R, 종료: Q)
R
이동할 칸을 선택해주세요. (위: U, 아래: D)
U
[ O ]
[   ]

이동할 칸을 선택해주세요. (위: U, 아래: D)
D
[ O |   ]
[   | O ]

이동할 칸을 선택해주세요. (위: U, 아래: D)
D
[ O |   |   ]
[   | O | O ]

최종 게임 결과
[ O |   |   ]
[   | O | O ]

게임 성공 여부: 성공
총 시도한 횟수: 2
```

```
다리 건너기 게임을 시작합니다.

다리의 길이를 입력해주세요.
3

이동할 칸을 선택해주세요. (위: U, 아래: D)
U
[ O ]
[   ]

이동할 칸을 선택해주세요. (위: U, 아래: D)
U
[ O | X ]
[   |   ]

게임을 다시 시도할지 여부를 입력해주세요. (재시도: R, 종료: Q)
Q
최종 게임 결과
[ O | X ]
[   |   ]

게임 성공 여부: 실패
총 시도한 횟수: 1
```

<br>

# 🎯 기능 목록

### 💁‍♀️ 게임 시작 안내

- [x] 게임 시작 안내를 출력한다.

### 🌉 다리 만들기

- [x] 길이를 입력 받는다.
  - [x] 3~20 사이의 숫자가 아닐 경우 예외 처리한다.
- [x] 입력된 길이만큼의 다리를 만든다.

### 🏃‍♂️ 다리 이동하기

- [x] 이동할 칸을 입력받는다
  - [x] `U`나 `D`가 아닐 경우 예외 처리한다.
- [x] 입력 받은 칸에 맞게 다리를 업데이트한다.
  - [x] 입력 값이 `U` 일 경우 윗칸으로 이동한다.
  - [x] 입력 값이 `D` 일 경우 아랫칸으로 이동한다.
- [x] 다리 상태를 출력한다.

  - [x] 다리의 시작은 `[` 표시(뒤 공백 포함)
  - [x] 다리의 끝은 `]` 표시(앞 공백 포함)
  - [x] 이동할 수 있는 칸은 `O` 표시
  - [x] 이동할 수 없는 칸은 `X` 표시
  - [x] 선택하지 않은 칸은 공백 한칸으로 표시
  - [x] 다리 칸 구분은 `|` 로 구분(앞, 뒤 공백 포함)

### 😰 다리 건너기 실패

- [x] 입력 받은 칸으로 건널 수 없을 경우 재시도 및 종료 여부를 입력받는다.
  - [x] `R`이나 `Q`가 아닐 경우 예외 처리한다.
- [x] 입력 값이 `R` 일 경우 재시도 처리한다.
  - [x] 첫번째 칸부터 다시 시작한다.
  - [x] 시도 횟수를 카운트해준다.
- [x] 입력 값이 `Q`일 경우 종료 처리한다.

  - [x] 최종 결과를 보여준다.
    - [x] 게임 성공 여부는 실패
    - [x] 시도한 횟수
  - [x] 게임을 종료한다.

### 😆 모든 다리 건너기 성공

- [x] 다리를 모두 건널 경우 최종 결과를 보여주고 종료한다.
  - [x] 게임 성공 여부는 성공
  - [x] 시도한 횟수

<br>

# 🔧 도메인 클래스별 필드, 생성자, 메소드 설명

## 🌉 Bridge Class

다리의 경로를 다루는 다리 클래스

### Class Field

`#bridge`

- 다리의 경로를 가지고 있는 필드
- 다리의 경로 방향은 위(U) 아래(D) 형태로만 저장한다.
- type: `Array<string>`

### Class Constructor & Method

`constructor(bridge)`

- 생성자로 다리의 경로를 가지고 있는 배열을 입력 받고 필드로 저장한다.
- parameter type: `Array<string>`

`isLastPosition(player)`

- 플레이어 객체를 인자로 받고, 해당 플레이어가 다리의 마지막 칸에 존재하는지 확인하는 메소드
- parameter type: `Player`
- return type: `boolean`

`getNextDirection(player)`

- 플레이어 객체를 인자로 받고, 플레이어의 다음 칸의 건널 수 있는 방향이 무엇인지 반환하는 메소드
- 플레이어의 다음 칸 중 건널 수 있는 칸이 윗칸이라면 "U"를 반환한다.
- 플레이어의 다음 칸 중 건널 수 있는 칸이 아랫칸이라면 "D"를 반환한다.
- parameter type: `Player`
- return type: `string`

## 🙍‍♂️ Player Class

플레이어의 이동 경로와 탈락 상태를 다루는 클래스

### Class Field

`#bridgePath`

- 사용자가 이동한 경로를 저장하는 필드
- 객체 형태이며, 객체에는 upperBridge와 lowerBridge를 각각 배열 형태로 저장한다.
- 경로 방향은 위(U) 아래(D) 형태로만 저장한다.
- type: `Object<upperBridge: Array<string>, lowerBridge: Array<string>>`

### Class Constructor & Method

`constructor()`

- 플레이어가 처음 생성될 때 필드의 초기값을 설정한다.
- bridgePath의 upperBridge와 lowerBridge를 빈 배열로 저장한다.

`move(direction)`

- 플레이어의 위치를 이동시키는 메소드
- 이동 방향(U or D)를 인자로 입력받는다.
- 이동 방향이 위쪽(U)라면 bridgePath의 upperBridge에 "O"를 추가하고, lowerBridge에 " "를 추가한다.
- 이동 방향이 아래쪽(D)라면 bridgePath의 lowerBridge에 "O"를 추가하고, upperBridge에 " "를 추가한다.
- 이 때, 플레이어가 떨어진 상태라면 bridgePath에 저장하지 않고 메소드를 바로 종료한다.
- parameter type: `string`
- return type: `void`

`fall(direction)`

- 플레이어가 잘못된 칸을 건넜을 때, 플레이어를 떨어뜨려 탈락시키는 메소드
- 이동 방향(U or D)를 인자로 입력받는다.
- 이동 방향이 위쪽(U)라면 bridgePath의 upperBridge에 "X"를 추가하고, lowerBridge에 " "를 추가한다.
- 이동 방향이 아래쪽(D)라면 bridgePath의 lowerBridge에 "X"를 추가하고, upperBridge에 " "를 추가한다.
- 이 때, 플레이어가 이미 떨어진 bridgePath에 저장하지 않고 메소드를 바로 종료한다.
- parameter type: `string`
- return type: `void`

`isFallen()`

- 플레이어가 떨어진 상태(탈락된 상태)인지 확인하는 메소드
- bridgePath를 통해 탈락 상태를 확인하고, 탈락 상태라면 `true`, 탈락 상태가 아니라면 `false`를 출력한다.
- return type: `boolean`

`getCurrentPosition()`

- 플레이어가 다리의 몇 번째 칸에 위치하는지 반환하는 메소드
- return type: `number`

`getMap()`

- 플레이어가 이동한 경로를 문자열로 변환해서 반환하는 메소드
- 다리 경로의 윗칸을 문자열로 변환해 upperBridgeMap에 저장하고, 아랫칸을 문자열로 변환해 lowerBridgeMap에 저장한 객체를 반환한다.
- return type: `Object<upperBridgeMap: string, lowerBridgeMap: string>`

## 🕹 BridgeGame Class

다리 건너기 게임을 진행하는 클래스

### Class Field

`#bridge`

- 다리를 저장하는 필드
- type: `Bridge`

`#player`

- 플레이어를 저장하는 필드
- type: `Player`

`#tryCount`

- 게임의 시도횟수를 저장하는 필드
- type: `number`

### Class Constructor & Method

`constructor(bridge)`

- 인자로 다리 경로를 저장한 배열을 입력 받는다.
- 입력 받은 배열로 다리(Bridge)를 생성한다.
- 플레이어(Player)를 새로 생성한다.
- 게임 시도 횟수를 초기값(1)으로 설정한다.

`move(direction)`

- 플레이어를 입력 받은 방향으로 이동시키는 메소드
- 이동 방향(U or D)를 인자로 입력받는다.
- `isMovable()` 함수로 이동할 수 있는지 확인하고 이동할 수 있다면 player 객체의 `move()` 메소드 를 실행한다.
- 이동할 수 없다면 player 객체의 `fall()` 메소드를 실행해 플레이어를 탈락시킨다.
- parameter type: `string`
- return type: `void`

`retry()`

- 게임을 재시도 할 때 실행하는 메소드
- 새로운 플레이어를 생성한다.
- 시도 횟수를 올린다.
- return type: `void`

`isMovable(direction)`

- 이동 방향을 인자로 입력받고, 해당 방향으로 이동할 수 있는지 확인하는 메소드
- parameter type: `string`
- return type: `boolean`

`isFallen()`

- 현재 진행 중인 플레이어가 떨어진 상태(탈락 상태)인지 확인하는 메소드
- return type: `boolean`

`isClear()`

- 다리 건너기를 끝까지 성공했는지 확인하는 메소드
- return type: `boolean`

`getMap()`

- 플레이어가 현재까지 이동한 경로를 반환하는 메소드
- Player 객체의 getMap()의 반환 결과를 그대로 반환한다.
- return type: `Object<upperBridgeMap: string, lowerBridgeMap: string>`

`getResult()`

- 게임의 최종 결과를 반환하는 메소드
- 플레이어의 이동 경로, 게임 클리어 상태, 시도 횟수를 반환한다.
- return type: `Object<map: Object<string>, isClear: boolean, tryCount: number>`
