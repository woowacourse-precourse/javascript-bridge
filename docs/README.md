# 미션 - 다리 건너기

## 소개

이번 미션은 `다리 건너기`입니다.

다리 건너기는 위아래 둘 중 하나의 칸만 건널 수 있는 다리를 끝까지 건너가는 게임입니다.

## 게임 진행 방법

- 다리의 길이를 입력한다.
- 이동할 칸을 선택한다. (위: U, 아래: D)
    - 게임이 종료될 때까지 계속 선택한다.
    - 게임에 실패하면 다시 시작하거나 종료할 수 있다.
    - 다시 시작하면 처음으로 이동한다.
- 다리를 모두 건널 경우 게임이 종료된다.


## 게임 진행 예시

```text
다리 건너기 게임을 시작합니다.

다리의 길이를 입력해주세요.
3

이동할 칸을 선택해주세요. (위: U, 아래: D)
U
[ O ]
[   ]

이동할 칸을 선택해주세요. (위: U, 아래: D)
U
[ O | X ]
[   |   ]

게임을 다시 시도할지 여부를 입력해주세요. (재시도: R, 종료: Q)
R
이동할 칸을 선택해주세요. (위: U, 아래: D)
U
[ O ]
[   ]

이동할 칸을 선택해주세요. (위: U, 아래: D)
D
[ O |   ]
[   | O ]

이동할 칸을 선택해주세요. (위: U, 아래: D)
D
[ O |   |   ]
[   | O | O ]

최종 게임 결과
[ O |   |   ]
[   | O | O ]

게임 성공 여부: 성공
총 시도한 횟수: 2
```

```text
다리 건너기 게임을 시작합니다.

다리의 길이를 입력해주세요.
3

이동할 칸을 선택해주세요. (위: U, 아래: D)
U
[ O ]
[   ]

이동할 칸을 선택해주세요. (위: U, 아래: D)
U
[ O | X ]
[   |   ]

게임을 다시 시도할지 여부를 입력해주세요. (재시도: R, 종료: Q)
Q
최종 게임 결과
[ O | X ]
[   |   ]

게임 성공 여부: 실패
총 시도한 횟수: 1
```

## 프로그래밍 요구 사항

- `package.json`을 변경할 수 없고 외부 라이브러리(jQuery, Lodash 등)를 사용하지 않는다. 순수 Vanilla JS로만 구현한다.
- JavaScript 코드 컨벤션을 지키면서 프로그래밍 한다
- 프로그램 종료 시 `process.exit()`를 호출하지 않는다.
- 프로그램 구현이 완료되면 `ApplicationTest`의 모든 테스트가 성공해야 한다. 테스트가 실패할 경우 0점 처리한다.
- 프로그래밍 요구 사항에서 달리 명시하지 않는 한 파일, 패키지 이름을 수정하거나 이동하지 않는다.
- indent(인덴트, 들여쓰기) depth를 3이 넘지 않도록 구현한다. 2까지만 허용한다.
- 함수(또는 메서드)가 한 가지 일만 하도록 최대한 작게 만들어라
- Jest를 이용하여 본인이 정리한 기능 목록이 정상 동작함을 테스트 코드로 확인한다.
- else를 지양한다.
- 도메인 로직에 단위 테스트를 구현해야 한다. 단, UI(Console.readLine, Console.print) 로직에 대한 단위 테스트는 제외한다.
- 함수(또는 메서드)의 길이가 10라인을 넘어가지 않도록 구현한다.
- 메서드의 파라미터 개수는 최대 3개까지만 허용한다.
- 아래 있는 `InputView`, `OutputView`, `BridgeGame`, `BridgeMaker` 클래스(또는 객체)의 요구사항을 참고하여 구현한다.
    - 각 클래스(또는 객체)의 제약 사항은 아래 클래스별 세부 설명을 참고한다.
    - 이외 필요한 클래스(또는 객체)와 메서드는 자유롭게 구현할 수 있다.
    - `InputView` 에서만 `MissionUtils`의 `Console.readLine()` 을 이용해 사용자의 입력을 받을 수 있다.
    - `BridgeGame` 클래스에서 `InputView`, `OutputView` 를 사용하지 않는다.

### InputView 객체

- 제공된 InputView 객체를 활용해 구현해야 한다.
- InputView의 파일 경로는 변경할 수 있다.
- InputView의 메서드의 인자는 변경할 수 있다.
- 사용자 값 입력을 위해 필요한 메서드를 추가할 수 있다.


### OutputView 객체

- 제공된 OutputView 객체를 활용해 구현해야 한다.
- OutputView의 파일 경로는 변경할 수 있다.
- OutputView의 메서드의 이름은 변경할 수 없고, 인자는 필요에 따라 추가하거나 변경할 수 있다.
- 값 출력을 위해 필요한 메서드를 추가할 수 있다.

### BridgeGame 클래스

- 제공된 BridgeGame 클래스를 활용해 구현해야 한다.
- BridgeGame에 필드(인스턴스 변수)를 추가할 수 있다.
- BridgeGame의 파일 경로는 변경할 수 있다.
- BridgeGame의 메서드의 이름은 변경할 수 없고, 인자는 필요에 따라 추가하거나 변경할 수 있다.
- 게임 진행을 위해 필요한 메서드를 추가 하거나 변경할 수 있다.

### BridgeMaker 객체

- 제공된 BridgeMaker 객체를 활용해 구현해야 한다.
- BridgeMaker에 프로퍼티를 추가할 수 없다.
- BridgeMaker의 파일 경로는 변경할 수 없다.
- BridgeMaker의 메서드의 시그니처(인자, 이름)와 반환 타입은 변경할 수 없다.

### BridgeRandomNumberGenerator 객체

- Random 값 추출은 제공된 BridgeRandomNumberGenerator의 generate()를 활용한다.
- BridgeRandomNumberGenerator의 코드는 변경할 수 없다.

## 3주 차 공통 피드백 적용하기

- 함수에서 공백 라인도 한 라인에 해당한다.
- 예외 사항을 고려해 프로그래밍하는 습관을 들인다.
- 비지니스 로직과 UI 로직을 분리한다.
- 객체의 상태 접근을 제한한다.
- 객체는 객체스럽게 사용한다.
    - 데이터를 꺼내는 용도로 쓰지 말고 메시지를 던지도록 구조를 바꿔 데이터를 가지는 객체가 일하도록 한다.
- 필드의 수를 줄이기 위해 노력한다.
- 성공하는 케이스 뿐만 아니라 예외에 대한 케이스도 테스트한다.
- 테스트 코드도 코드다. 리팩터링을 통해 개선해야 한다.
- 테스트를 위한 코드는 구현 코드에서 분리되어야 한다.
- 단위 테스트하기 어려운 코드를 단위 테스트하기

## 기능 목록

- [x] 게임 시작 문구를 출력하기

    - `다리 건너기 게임을 시작합니다.`
    - `GameProgress` 객체의 `printGameStart()` 메서드에서 출력한다.

- [x] 다리의 길이를 입력받는 문구를 출력하고 입력받기

    - `다리의 길이를 입력해주세요.`
    - `InputView` 객체의 `readBridgeSize()` 메서드에서 입력받는다.
    - `readBridgeSize()` 콜백함수 `validateBridgeSize`를 인수로 받는다.

- [x] 다리 길이 입력의 예외 처리하기

    - 3 이상 20 이하의 숫자가 아니라면 예외 처리한다.
    - `BridgeGame` 클래스에서 유효한 숫자인지 확인하고 `BridgeError` 객체에서 에러를 처리한다.

    ```text
    // 예외 1. 3 미만의 숫자 입력
    1

    // 예외 2. 20 초과의 숫자 입력
    21

    // 예외 3. 숫자가 아닌 문자 입력
    a
    ```

- [x] 입력 받은 다리의 길이로 다리 생성하기

    - 다리를 생성할 때 위 칸과 아래 칸 중 건널 수 있는 칸은 0과 1 중 무작위 값을 이용해서 정한다.
    - 위 칸을 건널 수 있는 경우 U, 아래 칸을 건널 수 있는 경우 D값으로 나타낸다.
    - 무작위 값이 0인 경우 아래칸, 1인 경우 위 칸이 건널 수 있는 칸으로 한다.

- [ ] 각 라운드 마다 이동할 칸을 선택하라는 문구 출력하기

    - `이동할 칸을 선택해주세요. (위: U, 아래: D)`

- [ ] 각 라운드 마다 플레이어가 이동할 칸을 입력받기

    - U 또는 D 값만 입력받는다.

- [ ] 이동할 칸 입력 예외 처리하기

    - U 또는 D 값이 아니면 예외처리한다.

    ```bash
    // 예외 1. 
    3

    // 예외 2. 
    u

    // 예외 3.
    UD
    ```

- [ ] 사용자가 이동할 때마다 결과 출력하기

    - 이동할 수 있는 칸을 선택한 경우 O 표시
    - 이동할 수 없는 칸을 선택한 경우 X 표시
    - 선택하지 않은 칸은 공백 한 칸으로 표시
    - 다리의 시작은 [, 다리의 끝은 ]으로 표시
    - 다리 칸의 구분은 |(앞뒤 공백 포함) 문자열로 구분
    - 현재까지 건넌 다리를 모두 출력

- [ ] 게임 실패할 경우 다시 시도여부 문구 출력하기

    - `게임을 다시 시도할지 여부를 입력해주세요. (재시도: R, 종료: Q)`

- [ ] 다시 시도여부 입력받기

    - R 또는 Q를 입력받는다.

- [ ] 다시 시도여부 입력 예외처리하기

    - R / Q 를 입력받지 못한 경우 예외처리한다.

    ```bash
    // 예외 1.
    r

    // 예외 2.
    3

    // 예외 3.
    RQ
    ```

- [ ] 게임 성공 여부 출력하기

    - 게임에 성공한 경우 : `게임 성공 여부: 성공`
    - 게임에 실패한 경우 : `게임 성공 여부: 실패`

- [ ] 총 시도 횟수 출력하기

    - `총 시도한 횟수: 1`