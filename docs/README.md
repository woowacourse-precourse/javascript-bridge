# **미션 - 다리 건너기**

<br/>

### 이의현

<br/>

**🛠 미션 소개**

---

- 다리의 길이를 정한다.

  - 다리의 길이에 따라서 랜덤으로 건널 수 있는 다리가 정해진다.
  - 예를 들어 다리의 길이가 3일 때의 건널 수 있는 경로는 아래와 같다.<br/>

    - (위, 아래, 아래 순으로 이동이 가능한 경로)

    ```
    [ O |   |   ]
    [   | O | O ]
    ```

- 위아래 두칸으로 이루어진 다리를 건넌다. (좌 => 우 방향)
- 위아래 둘 중 한 칸만 건널 수 있다.
- 사용자에 입력에 따라 다리를 건넌다.
- 다리를 끝까지 건너면 게임이 종료된다.
- 사용자가 잘못된 값을 입력하면 예외를 발생시키고, 에러 메시지를 출력 후 그 부분부터 다시 입력을 받는다.

<br/>

**🗒 미션 추가 목표**

---

- 비즈니스 로직과 UI 로직의 분리

  - 단일 책임의 원칙 위배 방지

- 객체 안에서 검증과 getter만 사용하지 않고, 로직에 대한 구현도 추가하여 객체스럽게 사용
- 필드의 수 줄이기
- 테스트에서만 사용되는 로직 만들지 않기
- 단위 테스트 하기 힘든 코드 또한 단위 테스트하기

<br/>

**🔥 기능 구현 리스트**

---

- [x] **다리 건너기 게임 시작 멘트 출력**

- [x] **다리의 길이 입력**

  - 3부터 20사이의 숫자
  - MissionUtils 라이브러리를 사용
  - `InputView` 객체의 메서드 사용

- [x] **다리의 최종 경로 생성**

  - 미션의 요구사항대로 `BridgeMaker`와 `BridgeRandomNumberGenerator`을 이용하여 최종 경로를 생성한다.
  - 최종 경로는 위에서 입력받은 다리의 길이까지 `U`, `D`를 랜덤으로 추가한다.

    - 랜덤값이 1이면 UP을 의미하는 U 추가
    - 랜덤값이 0이면 DOWN을 의미하는 D 추가
      - `U` - 1 `D` - 0

- [x] **사용자의 경로 추가**

  - 경로는 중간에 종료하지 않는다면 사용자의 최종경로의 길이까지 입력을 받는다.
  - 사용자가 `U` 또는 `D`를 입력하여 경로를 이동한다.
  - 만약 사용자가 `U`(윗칸)으로 이동했고 이동할 수 있는 경로라면 O

    - 그렇지 않다면 X

  - 만약 사용자가 `D`(아래칸)으로 이동했고 이동할 수 있는 경로라면 O

    - 그렇지 않다면 X

  - 경로가 옳거나 옳지 않거나 반대 방향은 빈칸을 추가한다.

- [x] **사용자의 경로를 이동 경로를 입력 할 때마다 출력**

- [x] **사용자의 이동 경로에 X가 포함되어 있다면 재시작/종료 할지 입력**

  - R => 재시작 (정답 경로는 그대로)
  - Q => 최종 결과 출력 후 콘솔 종료

- [x] **사용자의 경로과 미션의 경로의 길이가 같고 X가 포함되어 있지 않은 최종 정답일 때**

  - 최종 게임 결과를 출력한다.

<br/>

**🔥테스트 추가 작성**

- [x] **기능 테스트 추가**

  - 경로 이동 입력 오류 후 종료 하여 실패 테스트 추가
  - 경로 이동 입력 오류 후 재시도 하여 성공 테스트 추가

- [x] **다리 길이 테스트**

  - 다리 길이 범위 테스트
  - 다리 길이 숫자가 아닌 값 테스트

- [x] **다리 게임 클래스 테스트**

  - 경로 이동을 했을 때 U OR D가 아니면 예외가 발생한다.
  - 경로 이동을 했을 때 공백이 존재한다면 예외가 발생한다.
  - 이동한 경로에 X가 포함되어 있는지 테스트
  - 이동 경로 입력 후 이동한 경로를 출력하기 위해 문자열로 반환하는 메서드 테스트
  - 이동한 경로와 최종 경로의 길이 비교 테스트
  - 이동한 경로와 최종 경로가 성공인지 실패인지 테스트
  - 출력을 담당하는 객체에서 출력을 하기 위해서 정보를 문자열로 변환하여 반환하는 메서드

- [x] **재시작 테스트**

  - 재시작 입력 길이 테스트
  - 재시작 입력이 미션이 요구한 특정 문자만 가능한지 테스트
