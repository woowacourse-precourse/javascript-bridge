# Bridge Game

## 🎯4주차 미션중 개인적 도전 과제 및 3주차 피드백

```
🎯🎯🎯객체를 객체스럽게 리팩토링🎯🎯🎯
```

- **getter와 setter 안쓰기**
- 객체는 메시지를 받으면 객체 그에 따른 로직(행동)을 수행하게 되고, 필요하다면 객체 스스로 **내부의** 상태값도 변경한다.
  - 메세지를 던지고 데이터를 받아라 (객체스럽게(?) 사용)
  - 객체가 상태값을 갖고있다면 객체는 그것에 맞게 행동하라
- 메인로직과 클래스 역할의 분리..?
- **테스트 코드**를 만들수 없다면 만들 수 있게 바꿔보자
  - 테스트 코드도 리팩토링
- 나만의 네이밍 규칙: **존재 이유**, **어떤 작업**, **사용 방법**
- private class 필드 사용 -> 왜? : 접근하면 안될값들은 private? (흠... 더 고민해보자)
- "." 을 많이찍는게 모두 문제는 아님 => 내부 구조가 외부로 노출될때!

---

## 🎯피드백 지키기

### 1주차 피드백

- **EOL 확인**
- pull request 후 tap 라인 확인
- 의미있는 공백라인 (if, for, while 사이의 공백 확인)
- 요구사항 다시 확인

### 2주차 피드백

- 기능목록 주기적 업데이트
- 다양한 객체사용
  - [객체기본]('https://developer.mozilla.org/ko/docs/Learn/JavaScript/Objects/Basics'), [classes]('https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Classes')

---

## 🚀 기능 작동 순서

1. 게임 시작 문구 출력
2. 다리 길이를 유저에게 입력받음
3. 이동할 칸을 입력받음
   - U 입력시 다리 위에 결과 표시
   - D 입력시 다리 아래 결과 표시
4. 각 입력마다 정답 여부 판단
5. 오답일때

   - 이동한 다리에 X 출력
   - 게임 다시 시도할지 여부 선택
     - R입력시 1번으로, Q 입력시 종료

6. 정답일때

   - 이동한 다리에 O 출력

7. 성공 및 실패시 결과 출력
   - 게임 성공 여부: 성공 or 실패
   - 총 시도한 횟수

---

## 🚨🚨기능 요구 사항🚨🚨

- 함수의 길이가 10라인 넘어가지 않도록 구현 (공백도 라인)
  - 함수가 한가지일만 하도록 구현
- 메서드 파라미터 최대 3개
- `InputView`
  - InputView에서만 **Console.readLine()** 사용가능
  - 변경가능 : 파일 경로, 메서드 인자 추가 및 변경, 메서드 추가
- `OutputView`
  - 변경가능 : 파일 경로, **필요에 따라**인자 추가, 값 출력위해 메서드 추가
  - **변경불가** : 메서드의 이름
- `BridgeGame`
  - 변경가능 : 필드(인스턴스 변수) 추가, 파일 경로, 인자 추가, 메서드 추가
  - **변경불가** : 메서드 이름
- `bridgeMaker`
  - **변경불가** : 프로퍼티 추가, 파일 경로, 메서드 인자, 이름, 반환 타입
- `BridgeRandomNumberGenerator`
  - Random 값 추출은 generate() 사용
  - **변경불가** : BridgeRandomNumberGenerator 코드

---

## 🎯 기능 구현 목록

- [x] 게임 시작 메세지
- [x] 유저에게 이동할 칸 입력받아오는 기능
- [x] 랜덤 숫자 반환 기능
- [x] 길이 입력 받는 기능
- [x] 다리 길이 입력 만큼의 정답 다리 배열 만들기
- [x] 유저가 입력한 이동할 다리 값 확인
- [x] U가 입력되면 상단에 O or X 넣기
- [x] O가 입력되면 하단에 O or X 넣기
- [x] 유저 입력시 해당 다리가 정답인지 확인
- [x] 건널수 있는 칸을 O
- [x] 건널수 없는 칸을 X
- [x] 이동한 다리 출력
- [x] 유저에게 재시작 종료 입력 받는 기능
- [x] Q 들어오면 재시작
- [x] R 들어오면 재시작

#### 추가 구현 목록

- [x](성공!) 정답인지 확인하는 메서드를 이용해 다리만드는 기능을 더 세분화
- [x](성공!) 유저가 이동하 다리를 만드는 메서드가 잘못됐다 parameter를 2개를 만들어 두번째 argument로 boolean값을 받아 x 를 그릴지 o를 그릴지 나눠주자
- [x] App에서 입력받아와 try ...catch 하는부분을 inputView에서 처리해주거나 함수로 분리하자. **10라인이내**
- [] 리팩토링을 통해 bridgeGame에서 map을 그리는 로직을 조금더 줄여보자

---

## 🚨 예외처리

- [x] 에러 문구는 "[ERROR]" 로 시작
- [x] 유저가 입력한 다리길이가 **숫자** 3~20 이 아닐때 -문자일때, 1~2자리 숫자가 아닐때
- [x] 유저가 입력한 게임 재시작 여부가 R or Q 가 아닐때
- [x] 유저가 다리 이동 입력값이 'U'와 'D'가 아닐때

---

## 🔍새로 배운것, 구현 로직 아이디어

```
- Array.at 활용금지 node14 에선 지원하지않는다
- App을 컨트롤러로 쓰려고 했는데 user의 input값을 받아오면서 try... catch로 예외처리를 해주니메서드의 길이가 10자가 넘어간다.
- inputView에서 예외처리를 하고 return하는 방식으로 리팩토링 해야겠다.
- 바인딩 할때 배웠던 call이 2번째 argumnet로 함수를 받는다 이걸 이용해보자
- 콜백함수의 this를 정의하지않으면 this는 window를바라본다..
  - 해결하기위해 굉장히 많은 시간을 소비했다. 절대 잊지말것
```

- 유저가 길이를 입력하는 순간 bridge 게임의 정답인 유저가 입력한 길이만큼 다리가 생성된다.
- 여기서 만들어진 다리는 게임의 정답인 password가 된다
- 유저가 움직임을 입력할때마다 user 입력을 필드에 저장한다.
- 유저가 이동할 다리를 입력한 뒤에 필드에 저장된 user input을 password와 비교하는 메서드를 실행한다
- 정답일때 다리를 그리는 메서드와 오답일때 다리를 그리는 메서드를 실행한다.
- 멤버변수에 저장되는 user up or down input의 길이가 시작시 만들어진 다리길이와 같아졌을때 여전히 예외처리에 걸리지 않는다면 게임 승리
