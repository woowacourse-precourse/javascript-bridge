# 우아한테크코스 4주 차 - 다리 건너기 🌉

## 소개 🔍

- 우테코 프리코스 4주 차 미션
- 이번 미션의 목표는 다음과 같다.
  > 클래스(객체)를 분리할 수 있다.  
  > 리팩터링을 할 수 있다.
- 위아래 두 칸으로 이루어진 다리를 생성하고 플레이어는 다리를 건너면서 성공 혹은 실패를 하고, 실패를 할 경우 재시작 혹은 종료할 수 있다.

---

## 진행 방법 📍

1. 위아래 두 칸으로 이루어진 다리의 길이를 숫자로 입력을 받고 생성한다.
2. 이 때, 랜덤으로 위아래 칸 중 건널 수 있는 칸이 정해진다.
3. 플레이어는 이동할 칸을 선택한다.
4. 다리를 끝까지 건너면 게임이 종료된다.
5. 다리를 건너다 실패하면 게임을 재시작하거나 종료한다.
6. 종료 시, 게임 성공 여부와 시도한 횟수를 출력한다.
7. 잘못된 값을 입력하면 예외를 발생시키고 다시 입력 받는다.

---

## 요구 사항 🔧

- 위아래 두 칸으로 이루어진 다리를 건너야 한다.
  - 다리는 왼쪽에서 오른쪽으로 건너야 한다.
  - 위아래 둘 중 하나의 칸만 건널 수 있다.
- 다리의 길이를 숫자로 입력받고 생성한다.
  - 다리의 길이는 3 이상 20 이하의 숫자로 입력받는다.
  - 다리를 생성할 때 위 칸과 아래 칸 중 건널 수 있는 칸은 0과 1 중 무작위 값을 이용해서 정한다.
  - 위 칸을 건널 수 있는 경우 U, 아래 칸을 건널 수 있는 경우 D값으로 나타낸다.
  - 무작위 값이 0인 경우 아래 칸, 1인 경우 위 칸이 건널 수 있는 칸이 된다.
- 다리가 생성되면 플레이어가 이동할 칸을 선택한다.
  - 이동할 때 위 칸은 대문자 U, 아래 칸은 대문자 D를 입력한다.
  - 올바른 값이 아니면 예외 처리한다.
  - 이동한 칸을 건널 수 있다면 O로 표시한다. 건널 수 없다면 X로 표시한다.
- 다리를 끝까지 건너면 게임이 종료된다.
- 다리를 건너다 실패하면 게임을 재시작하거나 종료할 수 있다.
  - 재시작해도 처음에 만든 다리로 재사용한다.
  - 게임 결과의 총 시도한 횟수는 첫 시도를 포함해 게임을 종료할 때까지 시도한 횟수를 나타낸다.
- 게임 재시작/종료 여부를 입력 받는다. R(재시작)과 Q(종료) 중 하나의 문자를 입력할 수 있으며 올바른 값이 아니면 예외 처리한다.
- 사용자가 이동할 때마다 다리 건너기 결과의 출력 형식은 다음과 같다.
  - 이동할 수 있는 칸을 선택한 경우 O 표시
  - 이동할 수 없는 칸을 선택한 경우 X 표시
  - 선택하지 않은 칸은 공백 한 칸으로 표시
  - 다리의 시작은 `[`, 다리의 끝은 `]`으로 표시
  - 다리 칸의 구분은 `|`(앞뒤 공백 포함) 문자열로 구분
  - 현재까지 건넌 다리를 모두 출력
- 사용자가 잘못된 값을 입력한 경우 `throw`문을 사용해 예외를 발생시키고, "[ERROR]"로 시작하는 에러 메시지를 출력 후 그 부분부터 입력을 다시 받는다.

### 프로그래밍 중요 요구 사항 🧤

- `package.json`을 변경할 수 없다.
- 순수 Vanilla JS로만 구현한다.
- indent depth를 3이 넘지 않도록 구현한다.
- 함수(또는 메서드)가 한 가지 일만 하도록 최대한 작게 만든다.
- Jest를 이용하여 본인이 정리한 기능 목록이 정상 동작함을 테스트 코드로 확인한다.
- else를 지양한다.
- 도메인 로직에 단위 테스트를 구현하되 UI 로직에 대한 단위 테스트는 제외한다.

### 추가 요구 사항 🧣

- 함수(또는 메서드)의 길이가 10라인을 넘어가지 않도록 한다.
- 메서드의 파라미터 개수는 최대 3개까지만 허용한다.
- `InputView`, `OutputView`, `BridgeGame`, `BridgeMaker` 클래스(또는 객체)의 요구사항을 참고하여 구현한다.
  - `InputView`
    - 여기에서만 `MissionUtils`의 `Console.readLine()` 을 이용해 사용자의 입력을 받을 수 있다.
    - 파일 경로는 변경할 수 있다.
    - 메스드의 인자는 변경할 수 있다.
    - 사용자 값 입력을 위해 필요한 메서드를 추가할 수 있다.
  - `OutputView`
    - 파일 경로는 변경할 수 있다.
    - 메스드의 이름은 변경할 수 없고, 인자는 필요에 따라 추가하거나 변경할 수 있다.
    - 값 출력을 위해 필요한 메서드를 추가할 수 있다.
  - `BridgeGame`
    - `InputView`, `OutputView` 를 사용하지 않는다.
    - 필드(인스턴스 변수)를 추가할 수 있다.
    - 파일 경로는 변경할 수 있다.
    - 메서드의 이름은 변경할 수 없고, 인자는 필요에 따라 추가하거나 변경할 수 있다.
    - 게임 진행을 위해 필요한 메서드를 추가 하거나 변경할 수 있다.
  - `BridgeMaker`
    - 프로퍼티를 추가할 수 없다.
    - 파일 경로는 변경할 수 없다.
    - 메서드의 시그니처(인자, 이름)와 반환 타입은 변경할 수 없다.
- Random 값 추출은 제공된 `BridgeRandomNumberGenerator`의 `generate()`를 활용한다.

---

## 기능 구현 ⚙️

### 0. 상수 만들기

- 출력 메시지
- 에러 메시지

### 1. 다리 만들기

- [ ] 자동으로 생성할 다리 길이를 입력 받을 수 있다.
  - [ ] 다리의 길이는 숫자만 입력받을 수 있다.
  - [ ] 숫자의 범위는 3 이상 20 이하이다.
  - [ ] 숫자는 0으로 시작할 수 없다.
  - [ ] `예외 사항`이 있다면 예외를 발생시키고 에러 메세지를 출력 후 입력을 다시 받는다.
- [ ] 다리를 생성할 때 위 칸과 아래 칸 중 건널 수 있는 칸은 0과 1 중 무작위 값을 이용하여 정할 수 있다.
  - [ ] 무작위 값이 0인 경우 아래 칸, 1인 경우 위 칸이 건널 수 있는 칸이 된다.
  - [ ] 위 칸을 건널 수 있는 경우 U, 아래 칸을 건널 수 있는 경우 D값으로 나타낸다.

### 2. 다리 건너기

- [ ] 플레이어는 이동할 칸을 선택할 수 있다.
  - [ ] 위 칸은 대문자 U, 아래 칸은 대문자 D를 입력하여 이동할 수 있다.
  - [ ] 대문자 U, 대문자 D 이외의 값은 입력할 수 없다.
  - [ ] `예외 사항`이 있다면 예외를 발생시키고 에러 메세지를 출력 후 입력을 다시 받는다.
- [ ] 이동한 칸을 건널 수 있다면 O로 표시하고, 건널 수 없다면 X로 표시한다.
  - [ ] 선택하지 않은 칸은 공백 한 칸으로 표시한다.
  - [ ] 다리의 시작은 `[`, 다리의 끝은 `]`으로 표시한다.
  - [ ] 다리 칸의 구분은 `|`(앞뒤 공백 포함) 문자열로 구분한다.
  - [ ] 현재까지 건넌 다리를 모두 출력한다.

### 3. 게임을 재시작하기

- [ ] 다리를 건너다 실패하면 게임 재시작/종료 여부를 입력 받는다.
  - [ ] R(재시작)를 입력하면 게임을 재시작한다.
  - [ ] 재시작해도 처음에 만든 다리를 재사용한다.
  - [ ] `예외 사항`이 있다면 예외를 발생시키고 에러 메세지를 출력 후 입력을 다시 받는다.

### 4. 게임을 종료하기

- [ ] 다리를 끝까지 건너면 게임이 종료된다.
  - [ ] 게임이 종료되면 게임 성공 여부와 총 시도한 횟수가 출력된다.
- [ ] 다리를 건너다 실패한 후 Q(종료)를 입력하면 게임이 종료된다.
  - [ ] `예외 사항`이 있다면 예외를 발생시키고 에러 메세지를 출력 후 입력을 다시 받는다.

---

## 예외 사항 ❌

- 다리의 길이를 입력할 때
  - 숫자 외에 다른 값을 입력할 경우
  - 3 이상 20 이하의 숫자를 입력하지 않을 경우
  - 0으로 시작한 숫자를 입력할 경우
- 플레이어가 이동할 칸을 입력할 때
  - U(위 칸)와 D(아래 칸)가 아닌 다른 값을 입력할 경우
- 게임 재시작/종료 여부를 입력할 때
  - R(재시작)과 Q(종료)가 아닌 다른 값을 입력할 경우

---

## 테스트 🛠

---

## 실행 결과 예시 🪬

```
다리 건너기 게임을 시작합니다.

다리의 길이를 입력해주세요.
3

이동할 칸을 선택해주세요. (위: U, 아래: D)
U
[ O ]
[   ]

이동할 칸을 선택해주세요. (위: U, 아래: D)
U
[ O | X ]
[   |   ]

게임을 다시 시도할지 여부를 입력해주세요. (재시도: R, 종료: Q)
R
이동할 칸을 선택해주세요. (위: U, 아래: D)
U
[ O ]
[   ]

이동할 칸을 선택해주세요. (위: U, 아래: D)
D
[ O |   ]
[   | O ]

이동할 칸을 선택해주세요. (위: U, 아래: D)
D
[ O |   |   ]
[   | O | O ]

최종 게임 결과
[ O |   |   ]
[   | O | O ]

게임 성공 여부: 성공
총 시도한 횟수: 2
```

```
다리 건너기 게임을 시작합니다.

다리의 길이를 입력해주세요.
3

이동할 칸을 선택해주세요. (위: U, 아래: D)
U
[ O ]
[   ]

이동할 칸을 선택해주세요. (위: U, 아래: D)
U
[ O | X ]
[   |   ]

게임을 다시 시도할지 여부를 입력해주세요. (재시도: R, 종료: Q)
Q
최종 게임 결과
[ O | X ]
[   |   ]

게임 성공 여부: 실패
총 시도한 횟수: 1
```
