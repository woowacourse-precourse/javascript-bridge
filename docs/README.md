<h1 align="middle">🌉 다리 건너기</h1>

# 📑 규칙 설명

위아래 둘 중 하나의 칸만 건널 수 있는 **다리를 끝까지 건너가는 게임**

**위아래 두 칸으로 이루어진 다리**를 건너야 하며 위아래 둘 중 하나의 칸만 건널 수 있음  
다리는 **왼쪽에서 오른쪽으로** 건너야 함

</br>

# 🔍 기능 요구사항 분석
### ◽ 다리  
다리의 길이를 숫자로 입력받고 생성함  
무작위 값을 통해 위 칸과 아래 칸 중 건널 수 있는 칸을 정함  
무작위 값이 0이면 아래 칸이 건널 수 있는 칸 => D  
무작위 값이 1이면 위 칸이 건널 수 있는 칸 => U  

### ◽ 플레이어  
U 입력 시 위 칸, D 입력 시 아래 칸으로 이동  
이동한 칸을 건널 수 있다면 O, 건널 수 없다면 X  

### ◽ 재시작
**다리를 건너다 실패시** 재시작 (또는 종료)  
재시작시 **처음에 만든 다리를 재사용**함  

### ◽ 종료
**다리를 건너다 실패시** 종료 (또는 재시작)  
**다리를 끝까지 건너면** 게임 종료  
총 시도 횟수는 첫 시도를 포함해 게임을 종료할 때까지 시도한 횟수

### ❗❗ 사용자가 잘못된 값을 입력할 경우
- `throw`문을 사용해 예외 발생시키기
- "[ERROR]"로 시작하는 에러 메시지 출력 후 **그 부분부터 입력을 다시 받기.**

</br>

# 📝 기능 목록

## [✅] 다리 길이 입력받기 - GameController, getBridgeSize()     
3 이상 20 이하의 숫자를 입력받는다.  
**MissionUtils 라이브러리**에서 제공하는 `Console.readLine()`를 활용한다.  

❗ 예외 처리하기 (3 이상 20 이하의 숫자만 가능) GameController, checkSizeValidation()   
- 숫자가 아닌 문자를 입력한 경우
- 정수가 아닌 실수를 입력한 경우
- 범위를 벗어난 숫자를 입력한 경우  

</br>

## [✅] 다리 생성하기 - GameController, makeBridge()
입력받은 숫자 길이의 다리를 생성한다.

`BridgeRandomNumberGenerator`의 `generate()`를 활용하여 0 또는 1의 랜덤값을 생성한다.  
0인 경우 아래 칸이 건널 수 있는 칸이 되며 D값으로 나타낸다.  
1인 경우 위 칸이 건널 수 있는 칸이 되며 U값으로 나타낸다.  

</br>

## [✅] 플레이어가 이동할 칸 입력받기 - GameController, getMoving()  
U 또는 D를 입력 받는다.  
**MissionUtils 라이브러리**에서 제공하는 `Console.readLine()`를 활용한다.

❗ 예외 처리하기 (U 또는 D 문자만 가능)  
- U 또는 D가 아닌 다른 문자를 입력한 경우

</br>

## [✅] 이동 가능 여부 확인하기 - GameController, checkCanMoveNextStep()
사용자가 선택한 칸이 이동 가능한지 확인한다.  
이동 가능하면 O, 이동 불가능하면 X로 표시한다.

</br>

## [✅] 건너기 결과 출력하기 - GameController, makeMapCycle()  
현재까지 건넌 다리를 출력한다.   
**MissionUtils 라이브러리**에서 제공하는 `Console.print()`를 활용한다.

이동할 수 있는 칸을 선택한 경우 **O 표시**를 한다.  
이동할 수 없는 칸을 선택한 경우 **X 표시**를 한다.  
선택하지 않은 칸은 **공백 한 칸**으로 표시한다  

다리의 시작은 '[' 끝은 ']'으로 표시하며, 다리 칸의 구분은 '|' 문자열로 구분한다.

</br>

## [✅] 재시작 / 종료 입력받기 - GameController, getRetryOrEnd()  
다리를 건너다 실패할 경우 재시작 또는 종료할 수 있다.  
재시도 여부를 입력받는다. R을 입력하면 재시도, Q를 입력하면 종료한다.  
**MissionUtils 라이브러리**에서 제공하는 `Console.readLine()`를 활용한다.

❗ 예외 처리하기 (재시도는 R, 종료는 Q) - GameController, checkRetryOrEnd()  
- R 또는 Q가 아닌 다른 문자를 입력한 경우 

</br>

## [✅] 재시작하기 - GameController, retry() 
다리 건너기 게임을 재시작한다.  
**처음에 만든 다리를 재사용**한다.  
시도 횟수를 +1 누적한다.  

</br>

## [✅] 게임 종료, 결과 출력하기 - GameController, end()  
실패할 경우 또는 다리를 끝까지 건넌 경우 종료할 수 있다.  

최종 결과를 출력한다.  
게임 성공 여부와 총 시도 횟수를 출력한다.  
**MissionUtils 라이브러리**에서 제공하는 `Console.print()`를 활용한다.

</br>

# ➕ 추가 설명
게임을 관리하는 BridgeGame 클래스에서 "InputView, OutputView를 사용하지 말라"는 요구 사항에 따라, 입력과 출력을 받고 그에 따라 동작하는 **GameController** 클래스를 추가하였다.  

**BridgeGame** 클래스에서는 다리와 유저의 이동, 게임 오버 유무, 시도 횟수 등을 관리한다.   GameController의 Input에 따라 동작하고 결과를 **리턴**해준다.

길이가 10라인을 넘어가지 않도록 최대한 기능을 분할하였다.
예를들어 InputView의 경우 기존 try-catch문을 사용하여 입력값이 올바르지 않다면 다시 호출하여 입력 받는 식으로 구현하였는데, try-catch문은 GameController로 옮겨 InputView에서는 단순히 입력을 받고 그 결과를 넘겨주는 역할만 수행하도록 변경하였다. 