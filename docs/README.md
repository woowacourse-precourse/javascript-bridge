# 미션 - 다리 건너기

## 기능 목록

### `Model`

1. BridgeGameModel

- [x] try
  - 게임을 시도하면, try의 값을 1로 set한다
  - bridge 데이터를 set한다
  - user 데이터를 초기화한다.
- [x] attempt
  - try의 값을 +1 한다.
  - user 데이터를 초기화한다.
- [ ] result
  - 시도 횟수와 게임 성공 여부를 알려준다
- [x] jump
  - 유저가 점프한 후 위치 데이터를 갱신한다.
- [x] checkBridge
  - 메세지를 통해 유효한 bridge 데이터인지 확인하고 유효하지 않다면 Error를 던진다.
- [x] checkUser
  - 메세지를 통해 유효한 user 데이터인지 확인하고 유효하지 않다면 Error를 던진다.
- [x] isSuccess
  - 메세지를 통해 게임 결과를 알려준다.
- [x] isFail
  - 메세지를 통해 게임이 실패했는지 알려준다.
- [ ] isRetry
  - 메세지를 통해 게임을 재시작했는지 알려준다.

### `View`

1. OutputView

- [ ] printMap
  - 데이터를 받아와 다리를 그려준다.
- [ ] printResult
  - 데이터를 받아와 게임 결과를 그려준다
- [ ] printStart
  - 게임 시작을 그려준다

1. InputView

- [ ] readBridgeSize
  - 사이즈 입력 문구를 그려주고 내부 콜백은 컨트롤러에게 위임한다.
- [ ] readMoving
  - 이동할 칸 입력 문구를 그려주고 내부 콜백은 컨트롤러에게 위임한다.
- [ ] readGameCommand
  - 재시작/종료 여부 문구를 그려주고 내부 콜백은 컨트롤러에게 위임한다.
- [ ] readRetry
  - 잘못된 값이 들어온다면 에러를 캐치해 그려주고 인풋 값을 다시 받는다.

### `Controller`

1. BridgeGame

- [ ] move
  - 유저가 다리를 이동하는 과정을 컨트롤한다
- [ ] retry
  - 유저가 재시작/종료 여부를 컨트롤한다.
- [ ] start
  - 유저가 시작할 때를 컨트롤한다.
- [ ] end
  - 유저가 종료시 상황을 컨트롤한다.

### `Service`

1. BridgeGameService

- [ ] moveUser
  - 컨트롤러의 move 요청에 대한 로직을 담당한다.
  - 모델의 메세지를 사용하여 사용자의 점프 데이터를 검증하고 저장한다.
  - 모델의 메세지를 사용하여 게임의 결과를 확인한다
  - 모델로부터 유저가 움직인 결과 데이터를 받아와 아웃풋뷰에 넘긴다
- [x] startGame
  - 컨트롤러의 start 요청에 대한 로직을 담당한다.
  - 모델의 메세지를 사용하여 다리 데이터를 검증하고 저장한다.
- [ ] retryGame
  - 컨트롤러의 retry 요청에 대한 로직을 담당한다.
  - 모델의 메세지를 사용하여 사용자의 재시작 데이터를 검증하고 시도 횟수를 저장한다.
- [ ] endGame
  - 컨트롤러의 end 요청에 대한 로직을 담당한다.
  - 아웃풋 뷰의 게임 종료 결과 뷰를 호출한다
  - 게임을 종료한다.

## 예외 처리

1. 다리의 길이
   1. 3 ~ 20까지의 숫자
   2. - 값 처리
   3. 숫자가 아닌 경우
2. 이동할 칸의 값
   1. "U", "D"가 아닌 경우
3. 게임의 재시작/종료 여부의 값
   1. "R", "Q"가 아닌 경우
4. 사용자가 잘못된 값을 입력한 경우 throw문을 사용해 예외를 발생시키고, "[ERROR]"로 시작하는 에러 메시지를 출력 후 `그 부분부터 입력을 다시 받는다`.

## 중점 포인트

1. MVC 패턴을 지키자!

- 모델은 컨트롤러와 뷰에 의존하지 않아야 된다

- 모델 내부에 컨트롤러와 뷰에 관련된 코드가 있으면 안 된다.

- 뷰는 모델에만 의존해야 한다.

- 뷰는 모델에만 의존해야 하고, 컨트롤러에는 의존하면 안 된다.

  - 뷰 내부에 모델의 코드만 있을 수 있고, 컨트롤러의 코드가 있으면 안 된다.

- 뷰가 모델로부터 데이터를 받을 때는, 사용자마다 다르게 보여주어야 하는 데이터에 대해서만 받아야 한다.

- 컨트롤러는 모델과 뷰에 의존해도 된다

  - 컨트롤러 내부에는 모델과 뷰의 코드가 있을 수 있다.

- 뷰가 모델로부터 데이터를 받을 때, 반드시 컨트롤러에서 받아야 한다.

## 실행 결과 예시

```shell
다리 건너기 게임을 시작합니다.

다리의 길이를 입력해주세요.
3

이동할 칸을 선택해주세요. (위: U, 아래: D)
U
[ O ]
[   ]

이동할 칸을 선택해주세요. (위: U, 아래: D)
U
[ O | X ]
[   |   ]

게임을 다시 시도할지 여부를 입력해주세요. (재시도: R, 종료: Q)
R
이동할 칸을 선택해주세요. (위: U, 아래: D)
U
[ O ]
[   ]

이동할 칸을 선택해주세요. (위: U, 아래: D)
D
[ O |   ]
[   | O ]

이동할 칸을 선택해주세요. (위: U, 아래: D)
D
[ O |   |   ]
[   | O | O ]

최종 게임 결과
[ O |   |   ]
[   | O | O ]

게임 성공 여부: 성공
총 시도한 횟수: 2
```
