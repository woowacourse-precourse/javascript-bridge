# 다리 건너기

## 순서도

![bridgeGameFlowChart](https://user-images.githubusercontent.com/87527736/202632972-db8c7ece-f192-4255-8dc1-31ff97af0357.png)

## 파일 구조

> 📦src
> ┣📦model
> ┃ ┗📜BridgeGame.js
> ┣📦utils
> ┃ ┣📜BridgeRandomNumberGenerator.js
> ┃ ┗📜Constants.js
> ┣📦validation
> ┃ ┗📜Validation.js
> ┣📦view
> ┃ ┣📜InputView.js
> ┃ ┗📜OutputView.js
> ┣📜App.js
> ┣📜Bridge.js
> ┗📜BridgeMakerjs

**model**

데이터와 관련된 폴더로 `다리 건너기 게임`을 관리하는 클래스가 있습니다. 클래스에는 게임에 필요한 다리, 라운드 수, 게임 결과에 대한 메서드들이 있는 것이 특징입니다.

**validation**

플레이어가 입력한 값의 유효성 검사를 하고, 형식에 어긋날 경우 에러를 발생시킵니다.

**utils**

유틸 함수들을 모아둔 폴더로 `함수형 프로그래밍의 패러다임`을 적용한 것이 특징입니다. 원래는 `BridgeMaker.js`도 넣으려 하였지만, `ApplicationTest의 모듈`을 수정하지 않기 위해 넣지 않았습니다. 게임 전반에 사용되는 상수가 있는 파일과 다리 만드는데 사용된 로직이며 재활용할 수 있도록 만든 폴더입니다.

**view**

플레이어로부터 입력을 받고 게임 진행 상황과 출력하는 역할을 파일들이 있는 폴더입니다. view에 있는 파일들은 model에 있는 파일만 의존하는 특징입니다.

**App.js, Bridge.js**

controller 부분으로 전체 로직을 구성하며 model과 view 부분을 이어주는 역할을 합니다.
`App.js`는 전체 게임을 진행하는 파일입니다.
`Bridge.js`는 다리와 관련된 파일로 `App.js`와 `BridgeGame.js`에 의존하며 플레이어가 입력에 따라 다리를 건너며 게임의 진행 상황과 결과를 보여줍니다.

## 기능 목록

순서도를 기반으로 중요 기능 목록을 작성하였습니다.

### 1. 사용자 입력 요청

- [v] 플레이어가 다리 길이 입력하는 기능(다리 길이는 3~20 사이의 자연수)

  - [v] 입력 예외 처리

- [v] 플레이어가 이동할 칸을 입력하는 기능(위 칸: U, 아래 칸: D)

  - [v] 위 칸을 건널 수 있는 경우 U, 아래 칸을 건널 수 있는 경우 D값으로 나타냄
  - [v] 이동한 칸을 건널 수 있다면 O로 표시, 건널 수 없다면 X로 표시
  - [v] 예외 처리

- [v] 플레이어가 게임 재시작/종료를 입력하는 기능(재시작: R, 종료: Q)

  - [v] 재시작 선택 시 처음에 만든 다리로 재사용함
  - [v] 게임 종료 문구 출력(최종 게임 결과, 게임 성공 여부, 총 시도 횟수)

### 2. 다리 건너기

- [v] 다리 생성하는 기능

  - [v] 위 칸과 아래 칸 중 건널 수 있는 칸은 0과 1 중 무작위 값을 이용해서 정함
  - [v] 위 칸을 건널 수 있는 경우 U, 아래 칸을 건널 수 있는 경우 D값으로 나타냄

- [v] 플레이어가 입력한 이동할 칸으로 이동하는 기능

  - [v] 이동한 칸을 건널 수 있다면 O로 표시, 건널 수 없다면 X로 표시
  - [v] 선택하지 않은 칸은 공백 한 칸으로 표시
  - [v] 다리의 시작은 [, 다리의 끝은 ]으로 표시
  - [v] 다리 칸의 구분은 |(앞뒤 공백 포함) 문자열로 구분
  - [v] 현재까지 건넌 다리를 모두 출력

### 3. 게임 결과 출력

- 건너기 성공

  - [v] 게임 종료 문구 출력(최종 게임 결과, 게임 성공 여부, 총 시도 횟수)

- 건너기 실패

  - [v] 재시작 선택 시 처음에 만든 다리로 재사용하고 재시작하는 기능
  - [v] 게임 종료 선택 시 게임 종료 문구 출력(최종 게임 결과, 게임 성공 여부, 총 시도 횟수)

### 4. 예외 처리

사용자가 잘못된 값을 입력할 경우 throw문을 사용해 예외를 발생시키고, 예외 사항 시 에러 문구를 출력합니다. 단, 에러 문구는 [ERROR] 로 시작합니다.

## 예외 목록 (테스트 목록)

1. 자동으로 생성할 다리 길이 입력받을 경우

- [v] 숫자가 아닌 다른 type을 입력한 경우
- [v] 3 이상 20이하 범위를 벗어나는 숫자를 입력한 경우
- [v] 정수가 아닌 숫자를 입력한 경우

2. 라운드마다 플레이어가 이동할 칸 입력받을 경우

- [v] 문자가 아닌 다른 type을 입력한 경우
- [v] 여러 값을 입력한 경우
- [v] 소문자를 입력한 경우
- [v] U(위 칸)와 D(아래 칸)가 아닌 다른 문자를 입력한 경우

3. 게임 재시작/종료 여부 입력받을 경우

- [v] 문자가 아닌 다른 type을 입력한 경우
- [v] 여러 값을 입력한 경우
- [v] 소문자를 입력한 경우
- [v] R(재시작)과 Q(종료)가 아닌 다른 문자를 입력한 경우
